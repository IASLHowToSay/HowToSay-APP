body class="#{sentence_info['background']}"
div class="row"
  div class="col-sm-4"
  div class="col-sm-4"
    div style="margin-left: 45px;margin-top: -20px;border-radius: 0 0 150px 150px;width: 70%;background: #ff910a;height: 100px;display: block;"
      h1 style="color:white;padding-top: 20px;" #{sentence_info['sequence']}/#{sentence_info['total']}
  div class="col-sm-4"
div class="row" style="margin-top:40px"
  h3 style="margin-bottom: 40px;" 請您幫我換句話說
  div class="input-group" style="margin-top:30px;"
    span class="input-group-addon" style="font-size: 20px;padding-left: 30px;padding-right: 30px;background-color: #2081ab;color: white;" 問句
    textarea cols="30" rows="1" class="form-control" style="text-align: center;font-size: 20px;color:black;text-indent: -90px;" readonly="readonly" #{sentence_info['question']['content']}
form method='post' name="sentenceform" action='/rewrite/#{sentence_info['question']['cate']['id']}/sentence' id='form-login' onsubmit="return sentencecheck();"
  div class="row"
    input type="text" name="question_content" style="display:none;" value="#{sentence_info['question']['content']}"
    input type="text" name="task_id" style="display:none;" value="#{sentence_info['task_id']}"
    input type="text" name="question_id" style="display:none;" value="#{sentence_info['question']['id']}"
  div class="row" 
    div class="input-group" style="margin-top:20px;"
      span style="font-size: 20px;padding-left:10px;background-color: #2081ab;color: white;" class="input-group-addon" 換句話說
      input class="form-control" name="sentence" style="font-size: 20px;text-align: center;text-indent: -90px;" autocomplete="off"
  div class="row" style="margin-top:10px"
    h3 style="font-size:20px;color:#2081ab;margin-top: 30px;" 您覺得此問句屬於哪個類別
  div class="row"
    div class="col-sm-4"
    div class="col-sm-4"
      div class="form-group"
        div class="input-group" style="margin-top:20px;"
          span class="input-group-addon" for="inputGroupSelect01" style="background-color: #2081ab;color: white;" 小類別
          select class="selectpicker form-control" name="detail" id="inputGroupSelect01" onchange="detail_description();" style="text-align-last: center;"
            option value=-1 請選擇
            - sentence_info['details'].each do |detail|
              option value="#{detail['id']}@#{detail['description']}" #{detail['name']}
    div class="col-sm-4"
  div class="row" style="height:70px;"
    p name="tip" id='tip_id' style="color: #777777;" 顯示選擇的小類別範例句
  div class="row" style="margin-top:50px;float:right;"
    div class="col-sm-10"
    div class="col-sm-2" style="text-align:right"
      input type="text" name="sequence" style="display:none;" value="#{sentence_info['sequence']}"
      input type="text" name="total" style="display:none;" value="#{sentence_info['total']}"
      button class="hero-button text-center" style="background-color:#ff910a;color: white;margin-top:-300px;" type="submit" class="btn btn-lg" 下一題
javascript:
  
  $(document).ready(function() {
    $(window).keydown(function(event){
      if(event.keyCode == 13) {
        event.preventDefault();
        return false;
      }
    });
  });

  function detail_description(){
    
    var selectBox = document.getElementById("inputGroupSelect01");
    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
    if (selectedValue==-1){
      document.getElementById("tip_id").style.color="color: #777777;";
      document.getElementById("tip_id").innerHTML='小類別的範例 ';
    }else{
      document.getElementById("tip_id").style.color="#777777";
      example = selectedValue.split("@")[1].split('EX:').join('<br>').substr(4)
      document.getElementById("tip_id").innerHTML=example;
    }
  }

  function sentencecheck(){
    var sequence = document.sentenceform.sequence.value
    var total = document.sentenceform.total.value
    var question_content = document.sentenceform.question_content.value
    var sentence = document.sentenceform.sentence.value
     
    if(sentence==''){
      if (confirm("確定要此題要留空白嗎？送出後無法修改，確定送出嗎?")){
        if (sequence == total){
          alert('恭喜您，已完成！')
          location.href='/'
          return true
        }
        return true
      }else{
        return false
      }
    }

    if(question_content==sentence.trim()){
      alert('請換個方式說喔！')
      return false
    }

    if(document.sentenceform.detail.value==-1){
      alert('小類別不可以為空白')
      return false
    }

    if (confirm("送出後無法修改，確定送出嗎?")){
      return true
    }else{
      return false
    }


    if (sequence == total){
      alert('恭喜您，已完成！')
      location.href='/'
    }
  }
